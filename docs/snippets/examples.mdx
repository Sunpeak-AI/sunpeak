## Examples

Example sunpeak resource & simulation files for an MCP Resource called "Review".

### Resource Component

React component defining a UI (MCP Resource) in your ChatGPT App.

```tsx
// src/resources/review/review-resource.tsx
import { Card } from './components';

export function ReviewResource() {
  return (
    <Card
      image="https://images.unsplash.com/photo-1520950237264-dfe336995c34"
      imageAlt="Lady Bird Lake"
      header="Lady Bird Lake"
      metadata="⭐ 4.5 • Austin, TX"
      button1={{ children: 'Visit', isPrimary: true, onClick: () => {} }}
      button2={{ children: 'Learn More', onClick: () => {} }}
    >
      Scenic lake perfect for kayaking, paddleboarding, and trails.
    </Card>
  );
}
```

### Resource MCP Metadata

MCP metadata for your UI. Version your resource metadata alongside the resource itself.

This is an official [MCP Resource object](https://modelcontextprotocol.io/specification/2025-11-25/server/resources#resource).

```json
// src/resources/review/review-resource.json
{
  "name": "review",
  "title": "Review",
  "description": "Visualize and review a proposed set of changes or actions",
  "mimeType": "text/html+skybridge",
  "_meta": {
    "openai/widgetDomain": "https://sunpeak.ai",
    "openai/widgetCSP": {
      "resource_domains": ["https://cdn.openai.com"]
    }
  }
}
```

### Simulation

Testing a ChatGPT App requires setting a lot of state: state in your backend (accessed via MCP tool), the stored widget runtime, and ChatGPT itself.

Simulation files let you define key App states for development, automated testing, and demo purposes.

Simulation files contain an [official MCP Tool object](https://modelcontextprotocol.io/specification/2025-11-25/server/tools#tool) and an [official MCP CallToolResult object](https://modelcontextprotocol.io/specification/2025-11-25/server/tools#structured-content). ChatGPT state (like light/dark mode) is not set on the simulation, but rather on the sunpeak `ChatGPTSimulator` itself via UI, props, or URL params.

```json
// tests/simulations/review/review-diff-simulation.json
{
  "userMessage": "Refactor the authentication module",
  "tool": {
    "name": "review-diff",
    "description": "Show a review dialog for a proposed code diff",
    "inputSchema": { "type": "object", "properties": {}, "additionalProperties": false },
    "title": "Diff Review",
    "annotations": { "readOnlyHint": false },
    "_meta": {
      "openai/toolInvocation/invoking": "Preparing changes",
      "openai/toolInvocation/invoked": "Changes ready for review",
      "openai/widgetAccessible": true,
      "openai/resultCanProduceWidget": true
    }
  },
  "callToolResult": {
    "structuredContent": {
    },
    "_meta": {}
  }
}
```
