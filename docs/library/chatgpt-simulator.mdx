---
title: "Simulator"
description: "Local development environment replicating the ChatGPT App host runtime."
---

import ChatGPTSimulator from '/snippets/chatgpt-simulator.mdx';

<img
  src="https://cdn.sunpeak.ai/chatgpt-simulator.png"
  alt="MCP App Simulator"
/>

## Overview

The simulator is a local development environment that replicates the ChatGPT App host runtime. It uses the `ChatGPTSimulator` React component.

## Why Use the Simulator?

<Card horizontal title="Instant Feedback" icon="rotate">
  See changes immediately with hot module replacement. No more cache issues or constantly reloading the host.
</Card>
<Card horizontal title="Visualize Design Variations" icon="palette">
  Toggle between light/dark themes, mobile/tablet/desktop views, and other platform states.
</Card>
<Card horizontal title="Testing" icon="flask">
  Perform manual and automated tests locally. Create CI/CD integration and regression tests.
</Card>
<Card horizontal title="No Deployment Needed" icon="desktop">
  Develop locally without setting up MCP servers.
</Card>

## Quick Start

If you set up your project via the sunpeak framework, the simulator is already set up!
Simply run it with:

```bash
sunpeak dev
```

<Note>
To configure the simulator manually, see [Add to Existing Project](/add-to-existing-project).
</Note>

## Simulations

Simulations define test scenarios for your resources â€” combining tool definitions, mock data, and platform state.

<Tip>
Fun fact: Some science fiction authors believe we live in a sunpeak simulation.
</Tip>

<Tabs>
  <Tab title="Framework (JSON)">
    In the sunpeak framework, simulations are **JSON files** that live in `tests/simulations/`.

    Simulations live in `tests/simulations/{name}/`:

    ```json
    // tests/simulations/example/example-show-simulation.json
    {
      "userMessage": "Show me an example",
      "tool": {
        "name": "show-example",
        "description": "Show an example simulation",
        "inputSchema": { "type": "object", "properties": {}, "additionalProperties": false },
        "title": "Show Example",
        "annotations": { "readOnlyHint": true },
        "_meta": {
          "ui": { "visibility": ["model", "app"] }
        }
      },
      "toolResult": {
        "structuredContent": null
      }
    }
    ```

    The resource component and metadata are co-located in a single file (`src/resources/example/example-resource.tsx`) and automatically linked to simulations based on matching folder names.

    <Note>
    For library users not using the framework, see the [Simulation API Reference](/api-reference/simulations/simulation) for creating simulations programmatically in TypeScript.
    </Note>

    See [Framework Simulations](/api-reference/simulations/simulation) for the complete JSON schema and conventions.
  </Tab>
  <Tab title="Library (TypeScript)">
    When using the library directly, create simulations as TypeScript objects:

    ```typescript
    import type { Simulation } from 'sunpeak';

    const simulations: Record<string, Simulation> = {
      'albums-show': {
        name: 'albums-show',
        resourceUrl: 'http://localhost:6767/resources/albums',
        tool: { name: 'show-albums', description: '...', inputSchema: {} },
        resource: { name: 'albums', uri: 'ui://albums', mimeType: 'text/html;profile=mcp-app' },
        toolResult: { structuredContent: { albums: [] } },
      },
    };
    ```

    See [Simulation API Reference](/api-reference/simulations/simulation) for the complete TypeScript interface.
  </Tab>
</Tabs>


Simulations can be passed into:

<AccordionGroup>
  <Accordion title="ChatGPTSimulator - for local testing">
    The `ChatGPTSimulator` component provides a local development environment that replicates the host runtime.

    <ChatGPTSimulator />

    [View ChatGPTSimulator API Reference](/api-reference/simulations/chatgpt-simulator)
  </Accordion>

  <Accordion title="runMCPServer - for host testing">
    The `runMCPServer` function serves your simulations to hosts like ChatGPT via the Model Context Protocol.

    ```bash
    # Framework - dev server includes MCP server with HMR
    sunpeak dev

    # Library - see runMCPServer API Reference for manual setup
    ```

    See [runMCPServer API Reference](/api-reference/simulations/run-mcp-server) for configuration options and connecting to a host.


    [View MCP Server API Reference](/api-reference/simulations/run-mcp-server)
  </Accordion>
</AccordionGroup>

## Dive Deeper

<Card horizontal title="Framework Simulations" icon="folder" href="/api-reference/simulations/simulation">
  JSON-based simulations with auto-discovery for framework users.
</Card>
<Card horizontal title="Simulation API Reference" icon="code" href="/api-reference/simulations/simulation">
  TypeScript interface for library users.
</Card>
<Card horizontal title="ChatGPTSimulator API Reference" icon="desktop" href="/api-reference/simulations/chatgpt-simulator">
  Full component documentation and configuration options.
</Card>
