@import "tailwindcss";
@import "@openai/apps-sdk-ui/css";

/* Scan simulator source files for Tailwind classes */
@source "./**/*.{ts,tsx}";

/* Required for Tailwind to find class references in Apps SDK UI components. */
@source "../node_modules/@openai/apps-sdk-ui";

/* Configure dark mode to use data-theme attribute (OpenAI SDK standard) */
@custom-variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

/*
 * Ensure critical OpenAI SDK color variables are available in consuming packages
 * These override any conflicting definitions from consuming package's Tailwind config
 */
@layer base {
  :root,
  :where([data-theme="light"]) {
    --color-text: var(--gray-1000);
    --color-text-secondary: var(--gray-500);
  }

  :where([data-theme="dark"]) {
    --color-text-secondary: var(--gray-700);
  }
}

/* Custom utilities that use OpenAI SDK color variables */
@utility bg-sidebar {
  background-color: var(--color-surface-secondary);
}

/* Ensure Select dropdowns appear above mobile drawer overlay when simulator is present */
@layer components {
  :has(.sunpeak-simulator-root) :where([role="listbox"], [data-radix-select-content], [data-radix-popper-content-wrapper]) {
    z-index: 100 !important;
  }
}
